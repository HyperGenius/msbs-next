# Phase 3: User Experience & Game Loop Enhancement Roadmap

**作成日**: 2026年2月11日
**目的**: ファーストユーザーの定着率向上と、継続的なプレイサイクルの確立

本ドキュメントは、MSBS-Nextの基盤機能（Phase 2.6完了時点）の上に、ゲームとしての面白さと遊びやすさを付加するための機能追加ロードマップです。

---

## 1. 🚀 Onboarding (初期体験の改善) - [Priority: Highest]

新規プレイヤーがゲームを開始した直後の「何をすればいいか分からない」状態を解消し、最初のバトルまでの導線をスムーズにします。

### 1.1 初期機体の自動配布 (Starter Kit)
* **現状:** 新規登録時はクレジットのみ所持しており、機体がないため何もできない。
* **実装内容:**
    * ユーザー作成時（`POST /api/pilots` 相当の処理時）に、デフォルト機体（例: `RGM-79 GM` や `MS-06 Zaku II`）を1機自動で付与する。
    * または、「初期機体選択ボーナス」として、最初のログイン時に3種類から1つ選ばせるモーダルを実装。

### 1.2 チュートリアル・ガイダンス
* **現状:** ガレージやショップへの誘導がない。
* **実装内容:**
    * 初回ログインユーザーに対し、画面上にガイド（ツールチップ等）を表示。
        1.  「まずはガレージで機体を確認しましょう」
        2.  「ミッションを選択してバトルを試しましょう」
        3.  「報酬でショップから新しい武器を買いましょう」

---

## 2. 🔫 Weapon Customization (装備換装) - [Priority: High]

機体ごとの固定装備を廃止し、プレイヤーが戦略に合わせて武器を選べるようにします。これにより「戦術設定」の深みが増します。

### 2.1 武器ショップ (Weapon Shop)
* **現状:** 機体セット販売のみ。
* **実装内容:**
    * `Shop` APIを拡張し、武器単体（`Weapon`モデル）の販売に対応。
    * 武器ごとのパラメータ表示（属性、射程、威力、重量/コスト）。

### 2.2 装備変更機能 (Loadout System)
* **現状:** 機体に武器が固定されている。
* **実装内容:**
    * **Backend:** `MobileSuit` モデルと `Weapon` モデルの関係を見直し、所有している武器を自由に付け替えられるようにする（Inventory管理）。
    * **Frontend:** ガレージ画面に「Main Weapon」「Sub Weapon」のスロットを追加し、装備変更UIを実装。
    * **Validation:** 機体ごとの積載制限や、装備可能な武器タイプ（例: ザクにビームライフルは不可など）の制限ロジック実装。

---

## 3. 🏆 Competition (競争と交流) - [Priority: Medium]

PvPvEの醍醐味である「他者との比較」を可視化し、モチベーションを高めます。

### 3.1 ランキングシステム (Leaderboard)
* **現状:** 自分の戦績しか見えない。
* **実装内容:**
    * **Backend:** 定期バッチ処理時にランキングを集計するロジック追加（勝利数、撃墜数、獲得クレジット）。
    * **Frontend:** 「ランキングページ」の新設。Top 100 プレイヤーの表示。
    * **Season制:** 一定期間（例: 1ヶ月）でランキングをリセットし、上位者に報酬付与。

### 3.2 他プレイヤーの視察 (Inspection)
* **現状:** 相手の強さの理由がわからない。
* **実装内容:**
    * ランキングやバトル履歴から、他プレイヤーのアイコンをクリックして詳細プロフィールを表示。
    * 「現在使用中の機体」や「装備構成」を閲覧可能にする（非公開設定も考慮）。

---

## 4. 🌍 Immersion (世界観と没入感) - [Priority: Medium]

システム的な戦闘から、物語性のある戦闘体験へと昇華させます。

### 4.1 ネームドNPC / エースパイロット
* **現状:** ランダム生成の無機質なNPC。
* **実装内容:**
    * **固定NPCデータ:** 「赤い彗星」「黒い三連星」のような強力なユニークNPCを定義。
    * **レア出現:** バトルルーム生成時に低確率でエースパイロットが乱入するロジック。
    * **特別報酬:** エース撃破時の特別ボーナス（大量の経験値、レア称号、専用武器のドロップなど）。

### 4.2 NPCの個性化 (Personality)
* **実装内容:**
    * NPCごとに「好戦的」「慎重」「遠距離主体」などの性格（AIロジック）を割り当て、行動パターンに変化をつける。
    * 戦闘ログにNPCのセリフ（カットイン的なテキスト）を表示。

---

## 5. 📱 Mobile Optimization (モバイル最適化) - [Priority: Low]

スマートフォンでのプレイ体験を向上させ、いつでもどこでも遊べるようにします。

### 5.1 モバイルUI調整
* **現状:** 3Dビューアの操作や細かなパラメータ表示がPC向け。
* **実装内容:**
    * **3D Viewer:** スマホ時はタッチ操作に最適化したカメラモード（スワイプで回転、ピンチで拡大縮小）の感度調整。または「観戦モード（オートカメラワーク）」の実装。
    * **Responsive Layout:** 重要なボタン（エントリー、戦闘開始）を画面下部に固定配置（Thumb Zoneへの対応）。
    * **文字サイズ:** スマホ画面でも読みやすいフォントサイズへの調整。

---

## 📅 推奨実装スケジュール

| フェーズ | 期間 (目安) | 主な目標 |
| :--- | :--- | :--- |
| **Step 1** | 1週間 | **オンボーディング完了**: 初期機体配布とチュートリアル表示の実装。 |
| **Step 2** | 2週間 | **カスタマイズ深化**: 武器データの独立化、ショップでの武器販売、ガレージでの装備変更。 |
| **Step 3** | 2週間 | **コミュニティ機能**: ランキング集計バッチの実装、リーダーボード画面の作成。 |
| **Step 4** | 2週間 | **コンテンツ拡充**: エースパイロットの実装、モバイルUIの磨き込み。 |
